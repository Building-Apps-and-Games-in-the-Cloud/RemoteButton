<!DOCTYPE html>
<html>

<head>
    <title>Light Controller</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript">
        const ws = new WebSocket('ws://localhost:8083');

        // Browser WebSockets have slightly different syntax than `ws`.
        // Instead of EventEmitter syntax `on('open')`, you assign a callback
        // to the `onopen` property.
        ws.onopen = function () {
            document.querySelector('#send').disabled = false;

            document.querySelector('#send').addEventListener('click', function () {
                ws.send(document.querySelector('#message').value);
            });
        };

        ws.onmessage = function (msg) {
            document.querySelector('#messages').innerHTML += `<div>${msg.data}</div>`;
        };
    </script>
</head>

<body>
    <h1>Chat</h1>
    <div>
      <input id="message" placeholder="Message">
      <button id="send" disabled="true">Send</button>
    </div>
    <div id="messages">
    </div>
    
    <div class="container">
        <h1 class="mb-3 mt-2">&#128161; light Controller</h1>
        <button class="btn btn-primary mt-1 btn-block" onclick="window.location.href='/setLightState/on'">
            Light On
        </button>
        <button class="btn btn-primary mt-1 btn-block" onclick="window.location.href='/setLightState/off'">
            Light Off
        </button>
    </div>
</body>

</html>